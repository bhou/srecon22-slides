<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>A better way to manage command line tools</title>

  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="dist/theme/serif.css">
  <link rel="stylesheet" href="dist/slides.css">

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>

<body>
  <div class="reveal">
    <div class="slides">

      <!-- title slide -->
      <section>
        <h1 class="r-fit-text" style="font-weight:bold; line-height:2; text-transform: uppercase;">
          &nbsp;&nbsp;A better way to manage command line tools&nbsp;&nbsp;
        </h1>
        <p style="font-size: 24px;">
          What we learned from 💻 software industry to improve command-line tool development
        </p>
      </section>

      <!-- who am i -->
      <section>
        <img class="r-stretch figure" style="border:0px solid;" src="images/bo.png">
        <p>
          <span style="font-weight:bold;">BO HOU</span><br>
          <span style="font-weight:500; font-size: 24px;">DevLead @ Build Services - Platform - </span>
          <span style="font-weight:500; font-size: 26px;color:orange;">Criteo</span>
        </p>
      </section>

      <!-- relationship -->
      <section data-background-image="images/family-unsplash.jpg">
        <h1 style="color:#F0F1EB; font-weight:bold; text-transform: uppercase;">Family</h1>
      </section>
      <section data-state="lost-yourself">
        <div class="r-stack">
          <img data-id="lost-yourself-1" src="images/lost-yourself/1.png">
          <img data-id="lost-yourself-2" class="fragment" style="transform: rotate(-10deg) translateY(50px)"
            src="images/lost-yourself/2.png">
          <img data-id="lost-yourself-3" class="fragment" style="transform: rotate(20deg) translate(20px, 200px)"
            src="images/lost-yourself/3.png">
          <img data-id="lost-yourself-4" class="fragment" style="transform: rotate(-30deg) translate(-50px, 100px)"
            src="images/lost-yourself/4.png">
          <img data-id="lost-yourself-5" class="fragment" style="transform: rotate(-10deg) translateY(200px)"
            src="images/lost-yourself/5.png">
          <img data-id="lost-yourself-6" class="fragment" style="transform: rotate(10deg) translate(100px, 400px)"
            src="images/lost-yourself/6.png">
          <img data-id="lost-yourself-7" class="fragment" style="transform: rotate(-20deg) translate(-100px, 300px)"
            src="images/lost-yourself/7.png">
        </div>
      </section>
      <section data-transition="slide">
        <h1 class="r-fit-text b-title" style="padding:100px;">Command Line
          Tool
        </h1>
      </section>

      <!-- reinvent the wheel -->
      <section data-transition="none">
        <h1 class="b-section-title">Reimplement common functions</h1>
        <ul>
          <li class="fragment">Release and deployment</li>
          <li class="fragment">Auto-update</li>
          <li class="fragment">Arguments parsing</li>
          <li class="fragment">Auto-completion</li>
          <li class="fragment">Credential management</li>
          <div class="fragment">
            <li>Configuration management</li>
          </div>
        </ul>
      </section>
      <section data-background-image="images/distracted.gif" data-background-size="100%">
      </section>

      <!-- missing feature -->
      <section>
        <h2 class="b-section-title">(Almost) Missing features</h2>
        <ul>
          <li class="fragment">Observability</li>
          <li class="fragment">Progressive rollout</li>
          <li class="fragment">A/B testing</li>
          <li class="fragment">Log management</li>
        </ul>
      </section>

      <!-- user's perspective -->
      <section>
        <h2 class="b-section-title">User's perspective</h2>
        <ul>
          <li class="fragment">Discovery</li>
          <li class="fragment">Setup & Install</li>
          <li class="fragment">Inconsistent User Interface</li>
          <li class="fragment">Sharing</li>
        </ul>
      </section>

      <!-- sharing -->
      <section>
        <h2 class="r-fit-text b-title">git clone "build-services-<span style="color:red">dirty</span>-scripts"</h2>
      </section>
      <section data-auto-animate>
        <div class="terminal-window">
          <div class="terminal" data-id="term1">
            <div class="header">
              <div class="button green"></div>
              <div class="button yellow"></div>
              <div class="button red"></div>
            </div>
            <div class="history"></div>
            $&nbsp;<span class="prompt">remove-agents.sh</span>
            <span class="typed-cursor">█</span>
          </div>
        </div>
      </section>
      <section data-auto-animate>
        <div class="terminal-window">
          <div class="terminal" data-id="term1">
            <div class="header">
              <div class="button green"></div>
              <div class="button yellow"></div>
              <div class="button red"></div>
            </div>
            <div class="history">
              <div>
                $&nbsp;<span class="prompt">remove-agents.sh</span><br>
                <span>Error: invalid input</span><br>
                <span> </span><br>
              </div>
            </div>
            $<span class="prompt"></span>
            <span class="typed-cursor">█</span>
          </div>
        </div>
      </section>
      <section data-auto-animate>
        <div class="terminal-window" data-id="share-1">
          <div class="terminal" data-id="term1">
            <div class="header">
              <div class="button green"></div>
              <div class="button yellow"></div>
              <div class="button red"></div>
            </div>
            <div class="history">
              <div>
                $&nbsp;<span class="prompt">remove-agents.sh</span><br>
                <span>Error: invalid input</span><br>
                <span> </span><br>
              </div>
              <div>
                $&nbsp;<span class="prompt">remove-agents.sh</span><br><br>
                <span>Remove agents with low disk space</span><br><br>
                <span>Usage:</span><br>
                &nbsp;&nbsp;<span>remove-agents.sh [flags]</span><br><br>
                <span>Flags:</span><br>
                &nbsp;&nbsp;<span>-h, --help&nbsp;&nbsp;&nbsp;&nbsp;print help</span><br>
                &nbsp;&nbsp;<span>-u, --url&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cluster url</span><br>
                &nbsp;&nbsp;<span>-s, --size&nbsp;&nbsp;&nbsp;&nbsp;disk threshold</span><br>
                &nbsp;&nbsp;<span>-w, --wait&nbsp;&nbsp;&nbsp;&nbsp;wait job to finish</span><br>
                <span> </span><br>
              </div>
            </div>
            $<span class="prompt"></span>
            <span class="typed-cursor">█</span>
          </div>
        </div>
      </section>
      <section data-auto-animate>
        <div class="terminal-window">
          <div class="terminal" data-id="term2">
            <div class="header">
              <div class="button green"></div>
              <div class="button yellow"></div>
              <div class="button red"></div>
            </div>
            <div class="history"></div>
            $&nbsp;<span class="prompt">remove-agents.sh</span>
            <span class="typed-cursor">█</span>
          </div>
        </div>
      </section>
      <section data-auto-animate data-state="reinstall-all">
        <div class="terminal-window" data-id="term3">
          <div class="terminal" data-id="term2">
            <div class="header">
              <div class="button green"></div>
              <div class="button yellow"></div>
              <div class="button red"></div>
            </div>
            <div class="history">
              <div>
                $&nbsp;<span class="prompt">remove-agents.sh</span><br>
                <span class="fragment">Removing agent e3b82dd06757 ...</span><br>
                <span class="fragment">Removing agent 98c24387ef40 ...</span><br>
                <span class="fragment">Removing agent 821a1813ad56 ...</span><br>
                <span class="fragment">Removing agent bdb68378edcf ...</span><br>
                <span class="fragment">Removing agent 24856a0d2f04 ...</span><br>
                <span class="fragment">Removing agent d26943e20b45 ...</span><br>
                <span class="fragment">Removing agent 42e8d7611ac0 ...</span><br>
                <span class="fragment">Removing agent e93d3965c037 ...</span><br>
                <span class="fragment">Removing agent 7db950b3a410 ...</span><br>
                <span class="fragment">Removing agent 75a34448c538 ...</span><br>
                <span class="fragment">Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C
                  Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C </span><br><br>
                <span class="fragment">Removed 230 agents ...</span><br>
                <span> </span><br>
              </div>
            </div>
            <div class="fragment">
              $<span class="prompt"></span>
              <span class="typed-cursor">█</span>
            </div>
          </div>
        </div>
      </section>
      <section data-auto-animate>
        <div style="margin-left:100px;height:100%;width:100%">
          <div class="terminal-window" data-id="term3" style="float:left;">
            <div class="terminal">
              <div class="header">
                <div class="button green"></div>
                <div class="button yellow"></div>
                <div class="button red"></div>
              </div>
              <div class="history">
                <div>
                  $&nbsp;<span class="prompt">remove-agents.sh</span><br>
                  <span>Removing agent e3b82dd06757 ...</span><br>
                  <span>Removing agent 98c24387ef40 ...</span><br>
                  <span>Removing agent 821a1813ad56 ...</span><br>
                  <span>Removing agent bdb68378edcf ...</span><br>
                  <span>Removing agent 24856a0d2f04 ...</span><br>
                  <span>Removing agent d26943e20b45 ...</span><br>
                  <span>Removing agent 42e8d7611ac0 ...</span><br>
                  <span>Removing agent e93d3965c037 ...</span><br>
                  <span>Removing agent 7db950b3a410 ...</span><br>
                  <span>Removing agent 75a34448c538 ...</span><br>
                  <span>Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C
                    Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C Ctrl-C </span><br><br>
                  <span>Removed 230 agents ...</span><br>
                  <span> </span><br>
                </div>
              </div>
              <div>
                $<span class="prompt"></span>
                <span class="typed-cursor">█</span>
              </div>
            </div>
          </div>
          <div style="float:left;height:100%" data-auto-animate-duration="0.3">
            <img class="r-fit-text" style="height:450px; width:auto" src="images/oh-no-no-no.webp">
          </div>
        </div>
      </section>



      <!-- recap -->
      <section>
        <h2 class="b-title">recap</h2>
        <ul>
          <li>Provide standard functionalities</li>
          <li>Treat command line tools as the first-class citizen</li>
          <li>Make commands easy to be discovered</li>
          <li>Easy to install</li>
          <li>Consistent user interface</li>
          <li>Raise the base quality of all scripts for sharing</li>
        </ul>
      </section>

      <!-- Desktop software development in 90s/00s -->
      <section>
        <h2 class="b-title">Desktop software development in 90s/00s</h2>
      </section>

      <section>
        <h2 class="b-title">Installers</h2>
        <img style="height:450px;" src="images/installer.png">
      </section>

      <section>
        <h2 class="b-title">Release & Deployment</h2>
        <img style="height:450px;" src="images/floppydisks.jpeg">
      </section>

      <section>
        <h2 class="b-title">Graphical Interface</h2>
        <img style="height:450px;" src="images/gui-swing.png">
      </section>

      <section>
        <h2 class="b-title">A/B Testing</h2>
        <img style="height:450px;" src="images/what-the-hell-does-that-even-mean.gif">
      </section>

      <section>
        <h2 class="b-title">Discovery</h2>
        <img style="height:450px;" src="images/magazine.jpeg">
        <img style="height:450px;" src="images/magazine-game.jpeg">
      </section>

      <!-- SaaS to rescue -->
      <section>
        <h2 style="font-weight:bold;">Software as a Service</h2>
        <ul>
          <li>No installation</li>
          <li>Functions integrated in browser</li>
          <li>Unified interface language: HTML & CSS</li>
          <li>Discovery with search engine</li>
          <li>Continuous Delivery</li>
        </ul>

      </section>

      <!-- Take a closer look -->
      <section>
        <h2 class="b-title">Take a closer look</h2>
        <div>
          <div class="fragment" style="margin-left:200px;">
            <div style="float:left;width:400px;text-align:left;margin-top:20px;">Browser</div>
            <div style="float:left;width:600px;text-align:left;margin-top:20px;">
              <ul>
                <li>Entry point</li>
                <li>Common functionalities</li>
              </ul>
            </div>
          </div>
          <div class="fragment" style="margin-left:200px;">
            <div style="float:left;width:400px;text-align:left;margin-top:40px;">HTML & CSS</div>
            <div style="float:left;width:600px;text-align:left;margin-top:40px;">
              <ul>
                <li>Declarative user interface</li>
                <li>Discovery</li>
                <li>Separate concerns</li>
              </ul>
            </div>
          </div>
          <div class="fragment" style="margin-left:200px;">
            <div style="float:left;width:400px;text-align:left;margin-top:40px;">Web server</div>
            <div style="float:left;width:600px;text-align:left;margin-top:40px;">
              <ul>
                <li>Business logic</li>
                <li>Technology agnostic</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2 class="b-title">Fill in the blanks</h2>
        <div>
          <div style="margin-left:200px;">
            <div class="fragment" style="float:left;width:400px;text-align:left;text-decoration:underline;">Command
              Launcher</div>
            <div style="float:left;width:600px;text-align:left;">
              <ul>
                <li>Entry point</li>
                <li>Common functionalities</li>
              </ul>
            </div>
          </div>
          <div style="margin-left:200px;">
            <div class=fragment
              style="float:left;width:400px;text-align:left;margin-top:40px;text-decoration:underline;">Manifest file
            </div>
            <div style="float:left;width:600px;text-align:left;margin-top:40px;">
              <ul>
                <li>Declarative user interface</li>
                <li>Discovery</li>
                <li>Separate concerns</li>
              </ul>
            </div>
          </div>
          <div style="margin-left:200px;">
            <div class="fragment"
              style="float:left;width:400px;text-align:left;margin-top:40px;text-decoration:underline;">
              Program/Script
            </div>
            <div style="float:left;width:600px;text-align:left;margin-top:40px;">
              <ul>
                <li>Business logic</li>
                <li>Technology agnostic</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- How does it work? -->
      <section data-state="how-does-it-work">
        <h2 class="b-title">How does it work?</h2>
        <div style="font-size:24px;margin-bottom:20px;">Command Launcher is compiled with name "cdt" aka Criteo Dev Toolkit</div>
        <div>
          <div style="float:left;position:relative;top:-30px;margin-left:140px;width:600px;">
            <div>
              <pre><code class="yaml" data-line-numbers data-trim>
              // manifest.mf
              pkgName: my-first-package
              version: 0.0.1
              cmds:
                - name: greeting
                  executable: "{{.PackageDir}}/hi"
              </code></pre>
            </div>
            <div class="fragment">
              <div class="terminal-window" style="width:540px;height:320px;">
                <div class="terminal" data-id="term1">
                  <div class="header">
                    <div class="button green"></div>
                    <div class="button yellow"></div>
                    <div class="button red"></div>
                  </div>
                  <div class="history">
                    $&nbsp;<span class="prompt">tree</span><br>
                    <span>my-first-package</span><br>
                    <span>├── hi</span><br>
                    <span>└── manifest.mf</span><br><br>
                    <span>0 directories, 2 files</span><br>
                    <span> </span><br>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="fragment"  style="float:left;width:400px">
            <div class="terminal-window" style="width:400px;">
              <div class="terminal" data-id="term1">
                <div class="header">
                  <div class="button green"></div>
                  <div class="button yellow"></div>
                  <div class="button red"></div>
                </div>
                <div class="history">
                  <!-- <div> -->
                  <!--   $&nbsp;<span class="prompt">cdt my-ls /tmp/demo</span><br> -->
                  <!--   <span> </span><br> -->
                  <!-- </div> -->
                </div>
                $&nbsp;<span class="prompt">cdt greeting SRECon</span>
                <span class="typed-cursor">█</span>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section data-auto-animate>
        <h2 class="b-title">How does it work?</h2>
        <div style="font-size:24px;margin-bottom:20px;">Command Launcher is compiled with name "cdt" aka Criteo Dev Toolkit</div>
        <div>
          <div style="float:left;position:relative;top:-30px;margin-left:140px;width:600px;">
            <div>
              <pre><code class="yaml" data-line-numbers data-trim>
              // manifest.mf
              pkgName: my-first-package
              version: 0.0.1
              cmds:
                - name: greeting
                  executable: "{{.PackageDir}}/hi"
              </code></pre>
            </div>
            <div>
              <div class="terminal-window" style="width:540px;height:320px;">
                <div class="terminal" data-id="term1">
                  <div class="header">
                    <div class="button green"></div>
                    <div class="button yellow"></div>
                    <div class="button red"></div>
                  </div>
                  <div class="history">
                    $&nbsp;<span class="prompt">tree</span><br>
                    <span>my-first-package</span><br>
                    <span>├── hi</span><br>
                    <span>└── manifest.mf</span><br><br>
                    <span>0 directories, 2 files</span><br>
                    <span> </span><br>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div style="float:left;width:400px">
            <div class="terminal-window" style="width:400px;">
              <div class="terminal" data-id="term1">
                <div class="header">
                  <div class="button green"></div>
                  <div class="button yellow"></div>
                  <div class="button red"></div>
                </div>
                <div class="history">
                  <div>
                    $&nbsp;<span class="prompt">cdt greeting SRECon</span><br>
                    <span>Hello SRECon!</span><br><br>
                    $&nbsp;<span class="prompt">./hi SRECon</span><br>
                    <span>Hello SRECon!</span><br><br>
                  </div>
                </div>
                $<span class="prompt"></span>
                <span class="typed-cursor">█</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- native like scripts -->
      <section data-auto-animate id="native-like-1">
        <h2 class="b-title">Native-like scripts</h2>
        <div>
          <div style="position:relative;top:-30px;">
            <div data-id="remove-agents.sh">
              <pre><code class="bash" data-line-numbers data-trim>
              # remove-agents.sh
              CLUSTER_URL=${URL:-default-cluster}
              DISK_SIZE_LIMIT=${SIZE:-20G}

              # do real stuff here
              </code></pre>
            </div>
            <div class="fragment" data-id="manifest-for-remove-agent">
              <div>
                <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:350px;overflow-x:hidden;overflow-y:hidden;" data-line-numbers="|5-6|7-9|10-13|15-17|18-20" data-trim>
                // manifest.mf
                pkgName: agent-ops
                version: 0.0.1
                cmds:
                  - name: agent
                    type: group
                  - name: remove
                    type: executable
                    group: agent
                    short: remove agents with low disk
                    long: |
                      Remove agents with low disk.

                    executable: {{.PackageDir}}/remove-agents.sh
                    examples:
                      - scenario: remove agents with disk space below 50G
                        cmd: remove --url http://cluster.com --size 50G
                    requiredFlags:
                      - "url\t cluster url"
                      - "size\t disk size threshold"
                    checkFlags: true

                </code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section data-auto-animate>
        <h2 class="b-title">Native-like scripts</h2>
        <div>
          <div style="position:relative;top:-30px;">
            <div data-id="remove-agents.sh">
              <pre><code class="bash" data-line-numbers="2-3" data-trim>
              # remove-agents.sh
              CLUSTER_URL=${CDT_FLAG_URL:-default-cluster}
              DISK_SIZE_LIMIT=${CDT_FLAG_SIZE:-20G}

              # do real stuff here
              </code></pre>
            </div>
            <div data-id="manifest-for-remove-agent">
              <div>
                <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:350px;overflow-x:hidden;overflow-y:hidden;" data-line-numbers="18-20" data-trim>
                // manifest.mf
                pkgName: agent-ops
                version: 0.0.1
                cmds:
                  - name: agent
                    type: group
                  - name: remove
                    type: executable
                    group: agent
                    short: remove agents with low disk
                    long: |
                      Remove agents with low disk.

                    executable: {{.PackageDir}}/remove-agents.sh
                    examples:
                      - scenario: remove agents with disk space below 50G
                        cmd: remove --url http://cluster.com --size 50G
                    requiredFlags:
                      - "url\t cluster url"
                      - "size\t disk size threshold"
                    checkFlags: true

                </code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section data-auto-animate>
        <h2 class="b-title">Native-like scripts</h2>
        <div>
          <div style="float:left;position:relative;top:-30px;margin-left:140px;width:600px;">
            <div >
              <pre><code class="bash" style="overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;" data-line-numbers data-trim>
              # remove-agents.sh
              CLUSTER_URL=${CDT_FLAG_URL:-default-cluster}
              DISK_SIZE_LIMIT=${CDT_FLAG_SIZE:-20G}

              # do real stuff here
              </code></pre>
            </div>
            <div data-id="manifest-for-remove-agent">
              <div>
                <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:350px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;" data-line-numbers data-trim>
                // manifest.mf
                pkgName: agent-ops
                version: 0.0.1
                cmds:
                  - name: agent
                    type: group
                  - name: remove
                    type: executable
                    group: agent
                    short: remove agents with low disk
                    long: |
                      Remove agents with low disk.

                    executable: {{.PackageDir}}/remove-agents.sh
                    examples:
                      - scenario: remove agents with disk space below 50G
                        cmd: remove --url http://cluster.com --size 50G
                    requiredFlags:
                      - "url\t cluster url"
                      - "size\t disk size threshold"
                    checkFlags: true

                </code></pre>
              </div>
            </div>
          </div>
          <div style="float:left;width:400px">
            <div class="terminal-window" style="width:400px;height:512px;">
              <div class="terminal" data-id="term1" style="font-size:14px;">
                <div class="header">
                  <div class="button green"></div>
                  <div class="button yellow"></div>
                  <div class="button red"></div>
                </div>
                <div class="history">
                  <div style="font-size:14px;">
                    $&nbsp;<span class="prompt">cdt agent remove</span><br><br>
                    <span>Remove agents with low disk.</span><br><br>
                    <span>Usage:</span><br>
                    &nbsp;&nbsp;<span>cdt agent remove [flags]</span><br><br>
                    <span>Examples:</span><br>
                    &nbsp;&nbsp;<span># remove agents with disk space below 50G</span><br>
                    &nbsp;&nbsp;<span>remove --url cluster.com --size 50G</span><br><br>
                    <span>Flags:</span><br>
                    &nbsp;&nbsp;<span>-h, --help &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; help for remove</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>--size string &nbsp; disk size threshold</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>--url string &nbsp;&nbsp; cluster url</span><br>
                  </div>
                </div>
                $<span class="prompt"></span>
                <span class="typed-cursor">█</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- auto-completion -->
      <section>
        <h2 class="b-title">Auto-completion</h2>
        <div class="terminal-window" style="width:600px;height:450px;">
          <div class="terminal" data-id="term1" style="font-size:14px;">
            <div class="header">
              <div class="button green"></div>
              <div class="button yellow"></div>
              <div class="button red"></div>
            </div>
            <img style="width:600px;" src="images/auto-complete.gif">
          </div>
        </div>
      </section>

      <!-- Credential management -->
      <section>
        <h2 class="b-title">Credential management</h2>
        <div>
          <div style="float:left;position:relative;margin-left:140px;width:600px;">
            <div class="terminal-window fragment" style="width:540px;height:150px;">
              <div class="terminal" data-id="term1" style="font-size:14px;overflow-y:hidden;">
                <div class="header">
                  <div class="button green"></div>
                  <div class="button yellow"></div>
                  <div class="button red"></div>
                </div>
                <img style="width:600px;" src="images/login.gif">
              </div>
            </div>
            <div class="fragment">
              <div>
                <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:180px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;" data-line-numbers="1,5-6" data-trim>
                # remove-agents.sh
                CLUSTER_URL=${CDT_FLAG_URL:-default-cluster}
                DISK_SIZE_LIMIT=${CDT_FLAG_SIZE:-20G}

                USERNAME=${CDT_USERNAME}
                TOKEN=${CDT_TOKEN}

                # do real stuff here with credentials
                </code></pre>
              </div>
            </div>
          </div>
          <div class="fragment" style="float:left;width:450px">
            <div style="position:relative;top:-30px;left:-20px">
              <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:360px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;" data-line-numbers="1,16-18" data-trim>
              // manifest.mf
              ...
              cmds:
                ...
                - name: remove
                  type: executable
                  group: agent
                  short: remove agents with low disk
                  long: |
                    Remove agents with low disk.

                  executable: {{.PackageDir}}/remove-agents.sh
                  examples:
                    - scenario: remove agents with disk space below 50G
                      cmd: remove --url http://cluster.com --size 50G
                  requestedResources:
                    - USERNAME
                    - TOKEN
                  ...
              </code></pre>
            </div>
          </div>
          <div class="fragment" style="position:relative;top:390px;left:20px;">
            <div class="terminal-window" style="width:980px;height:200px;">
              <div class="terminal" data-id="term1" style="font-size:14px;overflow-y:hidden;">
                <div class="header">
                  <div class="button green"></div>
                  <div class="button yellow"></div>
                  <div class="button red"></div>
                </div>
                <img style="width:600px;" src="images/consent.gif">
              </div>
            </div>
          </div>
        </div>

      </section>


      <!-- delivery & auto-update -->
      <section>
        <h2 class="r-fit-text b-title">Delivery & Auto-update</h2>
      </section>
      <section>
        <h2 class="b-title">Enterprise Scenario</h2>
        <div>
          <div style="float:left;position:relative;width:720px;">
            <div>
              <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:280px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;">


        ┌──────────────────┐    Synch      ┌─────────────────────────┐
        │ command launcher │◄──────────────│ Remote Package Registry │
        └──────────────────┘               └─────────────────────────┘
                 │                                      │
      ┌──────────┼──────────┐              ┌────────────┼────────────┐
      ▼          ▼          ▼              ▼            ▼            ▼
  ┌───────┐  ┌───────┐  ┌───────┐     ┌─────────┐  ┌─────────┐  ┌─────────┐
  │ pkg A │  │ pkg B │  │ pkg C │     │  pkg A  │  │  pkg B  │  │  pkg C  │
  └───────┘  └───────┘  └───────┘     └─────────┘  └─────────┘  └─────────┘

              </code></pre>
            </div>
          </div>
          <div style="float:left;position:relative;left:-30px;width:550px;">
            <div>
              <pre><code class="json" style="font-size:14px;line-height:1.2;height:280px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;" data-trim>
              // remote package registry
              [
                {
                  "name": "moab-ci",
                  "version": "49823",
                  "checksum": "cc09377f2992f66a18efc87c9dc3bd5fea016a37fc7c1ef1d8fa80cf9bb35006",
                  "url": "http://nexus.criteo.prod/ci-49823.zip",
                  "startPartition": 0,
                  "endPartition": 9
                },
                {
                  "name": "moab-ci",
                  "version": "1.1049525.4.1105-review",
                  "checksum": "99581d42de2e01270f80795e0d557e7459079b459c00180cd3db6947c630196f",
                  "startPartition": 3,
                  "endPartition": 4,
                  "url": "http://nexus.criteo.prod/ci-1.1049525.4.1105-review.zip"
                },
                {
                  "name": "hotfix",
                  "version": "1.0.0-49605",
                  "checksum": "d2226edcf6cfce293386b49201a0d07bc8bd6d13ff5854955ede9361765c26e2",
                  "startPartition": 0,
                  "endPartition": 9,
                  "url": "http://nexus.criteo.prod/cbt-49605-hotfix.pkg"
                }
              ]
              </code></pre>
            </div>
          </div>
        </div>
        <div class="fragment" style="position:relative;top:360px;left:-10px;">
          <div class="terminal-window" style="width:1180px;height:230px;">
            <div class="terminal" data-id="term1" style="font-size:14px;overflow-y:hidden;">
              <div class="header">
                <div class="button green"></div>
                <div class="button yellow"></div>
                <div class="button red"></div>
              </div>
              <img style="width:600px;" src="images/auto-update.gif">
            </div>
          </div>
        </div>
      </section>

      <!-- progressive rollout -->
      <section>
        <h2 class="b-title">Progressive rollout</h2>
        <div>
          <pre><code class="json" style="font-size:14px;line-height:1.2;height:360px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;" data-line-numbers="8-9,15-16" data-trim>
          // remote package registry
          [
            {
              "name": "moab-ci",
              "version": "49823",
              "checksum": "cc09377f2992f66a18efc87c9dc3bd5fea016a37fc7c1ef1d8fa80cf9bb35006",
              "url": "http://nexus.criteo.prod/ci-49823.zip",
              "startPartition": 0,
              "endPartition": 9
            },
            {
              "name": "moab-ci",
              "version": "1.1049525.4.1105-review",
              "checksum": "99581d42de2e01270f80795e0d557e7459079b459c00180cd3db6947c630196f",
              "startPartition": 3,
              "endPartition": 4,
              "url": "http://nexus.criteo.prod/ci-1.1049525.4.1105-review.zip"
            },
            {
              "name": "hotfix",
              "version": "1.0.0-49605",
              "checksum": "d2226edcf6cfce293386b49201a0d07bc8bd6d13ff5854955ede9361765c26e2",
              "startPartition": 0,
              "endPartition": 9,
              "url": "http://nexus.criteo.prod/cbt-49605-hotfix.pkg"
            }
          ]
          </code></pre>
        </div>
      </section>

      <!-- Monitoring & A/B Testing -->
      <section>
        <h2 class="r-fit-text b-title">Monitoring & A/B Testing</h2>
        <img style="height:290px;" src="images/monitoring-hotfix.png">
        <img style="height:290px;" src="images/monitoring-ci-exec.png">
      </section>

      <!-- Dropin packages -->
      <section>
        <h2 class="b-title">Sharing with dropins</h2>
        <div style="width:720px;margin-left:260px;">
          <div>
            <pre><code class="yaml" style="font-size:14px;line-height:1.2;height:260px;overflow-x:hidden;overflow-y:hidden;border-radius:8px 8px 8px 8px;">
                                 ┌──────────────────┐
                  ┌──────────────│ command launcher │
                  │              └──────────────────┘
                  │                       │
                  │            ┌──────────┼──────────┐
                  ▼            ▼          ▼          ▼
             ┌─────────┐   ┌───────┐  ┌───────┐  ┌───────┐
             │ dropins │   │ pkg A │  │ pkg B │  │ pkg C │
             └────┬────┘   └───────┘  └───────┘  └───────┘
           ┌──────┴──────┐
           ▼             ▼
       ┌────────┐   ┌────────┐
       │  pkg D │   │ pkg E  │
       └────────┘   └────────┘
            </code></pre>
          </div>
        </div>
        <div style="width:720px;margin-left:260px;margin-top:30px;">
          <div class="terminal-window" style="width:650px;height:150px;">
            <div class="terminal" data-id="term1" style="font-size:16px;">
              <div class="header">
                <div class="button green"></div>
                <div class="button yellow"></div>
                <div class="button red"></div>
              </div>
              <div class="history" style="font-size:16px;">
                <div>
                  $&nbsp;<span class="prompt">cdt install --git
                  https://github.com/criteo/example-pkg.git</span><br>
                </div>
              </div>
            </div>
          </div>
        </div>

      </section>


      <!-- New Possibilities -->
      <!-- <section> -->
      <!--   <h2 class="b-title">New Possibilities</h2> -->
      <!--   <ul> -->
      <!--     <li>Search Engine for discoveries</li> -->
      <!--     <li>Code generation for bootstrapping</li> -->
      <!--     <li>TUI</li> -->
      <!--     <li>...</li> -->
      <!--   </ul> -->
      <!-- </section> -->

      <!-- Take aways -->
      <section>
        <!-- <h2 class="b-title">Open Source</h2> -->
        <a style="font-family:Menlo;font-size:48px;" href="https://github.com/criteo/command-launcher">https://github.com/criteo/command-launcher</a>
      </section>

      <section>
        <div style="width:100%;">
          <div style="float:left;margin-top:150px;margin-left:50px;width:400px;">
            <img class="r-stretch" style="border:0px solid;border-radius:50%;width:50%;" src="images/bo.png">
            <p>
              <span style="font-weight:bold;">BO HOU</span><br>
              <span style="font-family:Menlo;font-weight:500; font-size: 24px;">twitter.com/bhoustudio</span><br>
              <span style="font-family:Menlo;font-weight:500; font-size: 24px;">medium.com/@bohou</span>
            </p>
          </div>
          <div style="float:left;margin-top:150px;width:400px;">
            <!-- <img style="width:200px;" src="images/SRECON_amazing_contacts.png"> -->
            <img class="r-stretch" style="border:0px solid;width:50%;" src="images/rocket.png">
            <p>
              <span style="font-weight:bold;text-align:left;">Command Launcher</span><br>
              <span style="font-family:Menlo;font-weight:500; font-size: 24px;">github.com/criteo/command-launcher</span><br>
            </p>
          </div>
          <div style="float:left;margin-top:150px;width:400px;">
            <img style="width:200px;" src="images/SRECON_amazing_contacts.png">
            <p>
              <span style="font-weight:bold;text-align:left;">Criteo Engineering</span><br>
              <span style="font-family:Menlo;font-weight:500; font-size: 24px;">careers.criteo.com</span><br>
              <span style="font-family:Menlo;font-weight:500; font-size: 24px;">medium.com/criteo-engineering</span><br>
            </p>
          </div>
        </div>
        <div style="height:720px;">
          <a href="https://www.flaticon.com/free-icons/rocket" title="rocket icons" style="position:absolute;bottom:0px;left:550px;font-size:10px;">Rocket icons created by Freepik - Flaticon</a>
        </div>

      </section>


      <!-- End -->
      <!-- <section> -->
      <!--   <h2 class="b-title">Thanks!</h2> -->
      <!-- </section> -->

    </div>
  </div>

  <script src="dist/reveal.js"></script>
  <script src="plugin/notes/notes.js"></script>
  <script src="plugin/markdown/markdown.js"></script>
  <script src="plugin/highlight/highlight.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"
    integrity="sha512-3J8teBiHrSyaaRBajZyIEtpDsXdPq1gsznKWIVb5CnorQuFhjWGhWe54z8YNnHHr7MZuExb9m5kvf964HiT1Sw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
      hash: true,
      width: 1280,
      height: 720,
      transition: 'none',

      controls: false,
      // center: false,

      pdfSeparateFragments: false,

      // Learn about plugins: https://revealjs.com/plugins/
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
    });
  </script>

  <script>
    function slides() {
      Reveal.on('lost-yourself', () => {
        let count = 0;
        let interval = setInterval(() => {
          console.log(count)
          Reveal.nextFragment()
          count++
          if (count > 7) {
            clearInterval(interval)
          }
        }, 300);
      });

      Reveal.on('reinstall-all', () => {

        let count = 0;
        let interval = setInterval(() => {
          if (count <= 10 || count > 14) {
            Reveal.nextFragment()
          }
          count++
          if (count > 16) {
            clearInterval(interval)
            setTimeout(() => {
              Reveal.next()
            }, 500);
          }
        }, 200);
      });

      Reveal.on('slidechanged', event => {
        console.log(event)
        // event.previousSlide, event.currentSlide, event.indexh, event.indexv
      });
    }

    slides()
  </script>
</body>

</html>
